<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href = "../css/common.css" rel = "stylesheet">
    <link href = "../css/article.css" rel = "stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title><%- title %></title>
</head>
<body>
    <div class = "nav"></div>
    <div class = "mid-cont">
        <h1><%- title %></h1>
        <div>
            <span>
                <small><%- createdAt %></small>
            </span>
            <span>
                    <i>作者</i>
                    <small><%- author %></small>
                </span>
            <span>
                <i>阅读</i>
                <small><%- views %></small>
            </span>
            <span>
                <i>喜欢</i>
                <small><%- likes %></small>
            </span>
        </div>
        <div class = "body">
            <%- body %>
        </div>
    </div>
    <form method ="POST" action="http://127.0.0.1:3000/api/v1/image/upload" enctype="multipart/form-data" id="form">
        <input type="file" id= "file"/>
        <input type="button" value = "提交" onclick="sum()"/>
    </form>
    
    <script>
        function sum(){
        alert(11)
        var file = document.getElementById("file").files[0],        
        form = new FormData();
        form.append("file",file);
        axios({
            url:"http://127.0.0.1:3000/api/v1/image/upload",
            data:form,
            method:"post",
            headers: {'Content-Type': 'multipart/form-data'},
        }).then(function(res){
            console.log(res)
        });
    }
    </script>
</body>
</html>